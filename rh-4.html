<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>唐朝街市动画</title>
    <style>
        body {
          margin: 0;
          padding: 0;
          background-color: #f0e6d2;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        /* 容器样式 */
        .scene-container {
            position: relative;
            width: 640px;
            height: 1030px;
            overflow: hidden;
        }

        /* 背景图样式 */
        .background {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 动画元素样式 */
        .animate-element {
            position: absolute;
            transition: all 1.5s ease-out; 
        }

        /* 人物 */
        #img1 {
            bottom: 0%;
            right: -350px; 
            width: 100%; 
        }

        /* 唐朝*/
        #img2 {
            top: -200px; 
            left: 70%;
            width: 70px;
            cursor: pointer; /* 添加鼠标指针样式 */
            z-index: 4; /* 确保在最上层可点击 */
        }

        /* 点击后文字框的样式 */
        .center-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0; /* 初始透明 */
            transition: opacity 1s ease-out; /* 渐出动画 */
            max-width: 100%;
            max-height: 100%;
            z-index: 5;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="scene-container">
        <img src="rh4/ad664abc7422b306f6c6dd23a5bbc421.png" class="background" alt="唐朝街市背景">
        <img src="rh4/6a0f34785eb075c66254af1685c34b68.png" class="animate-element" id="img1" alt="添加图片一">
        <img src="rh4/ad10dad26b3bf9ab1e3b947202f7bca5.png" class="animate-element" id="img2" alt="添加图片二">
        <img src="rh4/61a678f208fbaaa311b01416f7756381.png" class="center-image" id="img3" alt="添加图片三">
        <img src="rh4/3e3c8c2fe6775a7ba629556e118d2c69.png" class="center-image" id="img4" alt="添加图片四">
    </div>

    <script>
        // 等待页面完全加载
        window.addEventListener('DOMContentLoaded', () => {
            // 背景图加载处理
            const background = document.querySelector('.background');
            if (background.complete) {
                animateInitial();
            } else {
                background.addEventListener('load', animateInitial);
            }

            // 初始动画
            function animateInitial() {
                document.getElementById('img1').style.right = '0px';
                document.getElementById('img2').style.top = '140px';
                
                // 确保img2加载完成后绑定点击事件
                const img2 = document.getElementById('img2');
                if (img2.complete) {
                    bindClickEvent();
                } else {
                    img2.addEventListener('load', bindClickEvent);
                }
            }

            // 绑定点击事件
            function bindClickEvent() {
                const img2 = document.getElementById('img2');
                // 测试点击是否生效
                img2.addEventListener('click', function() {
                    console.log('图片二被点击了！');
                    
                    // 渐出图片三
                    const img3 = document.getElementById('img3');
                    img3.style.opacity = '1';
                    
                    // 延迟后渐出图片四
                    setTimeout(() => {
                        const img4 = document.getElementById('img4');
                        img4.style.opacity = '1';
                    }, 500);
                });
                
                // 也可以添加触摸事件支持移动端
                img2.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    this.click();
                });
            }
        });
    </script>
</body>
</html>